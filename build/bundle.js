var app=function(){"use strict";function e(){}const t=e=>e;function n(e,t){for(const n in t)e[n]=t[n];return e}function o(e){return e()}function a(){return Object.create(null)}function i(e){e.forEach(o)}function s(e){return"function"==typeof e}function r(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let l;function c(e,t){return l||(l=document.createElement("a")),l.href=t,e===l.href}function u(t,n,o){t.$$.on_destroy.push(function(t,...n){if(null==t)return e;const o=t.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}function d(e){const t={};for(const n in e)"$"!==n[0]&&(t[n]=e[n]);return t}const f="undefined"!=typeof window;let h=f?()=>window.performance.now():()=>Date.now(),p=f?e=>requestAnimationFrame(e):e;const g=new Set;function m(e){g.forEach((t=>{t.c(e)||(g.delete(t),t.f())})),0!==g.size&&p(m)}function v(e){let t;return 0===g.size&&p(m),{promise:new Promise((n=>{g.add(t={c:e,f:n})})),abort(){g.delete(t)}}}function w(e,t){e.appendChild(t)}function y(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function b(e){const t=x("style");return function(e,t){w(e.head||e,t),t.sheet}(y(e),t),t.sheet}function $(e,t,n){e.insertBefore(t,n||null)}function k(e){e.parentNode.removeChild(e)}function x(e){return document.createElement(e)}function S(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function _(e){return document.createTextNode(e)}function C(){return _(" ")}function A(){return _("")}function M(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function T(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function P(e,t){const n=Object.getOwnPropertyDescriptors(e.__proto__);for(const o in t)null==t[o]?e.removeAttribute(o):"style"===o?e.style.cssText=t[o]:"__value"===o?e.value=e[o]=t[o]:n[o]&&n[o].set?e[o]=t[o]:T(e,o,t[o])}function j(e){return""===e?null:+e}function O(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function D(e,t){e.value=null==t?"":t}function I(e,t,n,o){null===n?e.style.removeProperty(t):e.style.setProperty(t,n,o?"important":"")}function B(e,t){for(let n=0;n<e.options.length;n+=1){const o=e.options[n];if(o.__value===t)return void(o.selected=!0)}e.selectedIndex=-1}function N(e,t){for(let n=0;n<e.options.length;n+=1){const o=e.options[n];o.selected=~t.indexOf(o.__value)}}function q(e,t,{bubbles:n=!1,cancelable:o=!1}={}){const a=document.createEvent("CustomEvent");return a.initCustomEvent(e,n,o,t),a}const E=new Map;let z,V=0;function L(e,t,n,o,a,i,s,r=0){const l=16.666/o;let c="{\n";for(let e=0;e<=1;e+=l){const o=t+(n-t)*i(e);c+=100*e+`%{${s(o,1-o)}}\n`}const u=c+`100% {${s(n,1-n)}}\n}`,d=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${r}`,f=y(e),{stylesheet:h,rules:p}=E.get(f)||function(e,t){const n={stylesheet:b(t),rules:{}};return E.set(e,n),n}(f,e);p[d]||(p[d]=!0,h.insertRule(`@keyframes ${d} ${u}`,h.cssRules.length));const g=e.style.animation||"";return e.style.animation=`${g?`${g}, `:""}${d} ${o}ms linear ${a}ms 1 both`,V+=1,d}function R(e,t){const n=(e.style.animation||"").split(", "),o=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),a=n.length-o.length;a&&(e.style.animation=o.join(", "),V-=a,V||p((()=>{V||(E.forEach((e=>{const{ownerNode:t}=e.stylesheet;t&&k(t)})),E.clear())})))}function F(e,t){const n=e.getBoundingClientRect();if(t.left!==n.left||t.top!==n.top){const o=getComputedStyle(e),a="none"===o.transform?"":o.transform;e.style.transform=`${a} translate(${t.left-n.left}px, ${t.top-n.top}px)`}}function K(e){z=e}function U(){if(!z)throw new Error("Function called outside component initialization");return z}function G(e){U().$$.on_mount.push(e)}function Z(){const e=U();return(t,n,{cancelable:o=!1}={})=>{const a=e.$$.callbacks[t];if(a){const i=q(t,n,{cancelable:o});return a.slice().forEach((t=>{t.call(e,i)})),!i.defaultPrevented}return!0}}const H=[],J=[],Y=[],W=[],Q=Promise.resolve();let X=!1;function ee(e){Y.push(e)}function te(e){W.push(e)}const ne=new Set;let oe,ae=0;function ie(){const e=z;do{for(;ae<H.length;){const e=H[ae];ae++,K(e),se(e.$$)}for(K(null),H.length=0,ae=0;J.length;)J.pop()();for(let e=0;e<Y.length;e+=1){const t=Y[e];ne.has(t)||(ne.add(t),t())}Y.length=0}while(H.length);for(;W.length;)W.pop()();X=!1,ne.clear(),K(e)}function se(e){if(null!==e.fragment){e.update(),i(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ee)}}function re(){return oe||(oe=Promise.resolve(),oe.then((()=>{oe=null}))),oe}function le(e,t,n){e.dispatchEvent(q(`${t?"intro":"outro"}${n}`))}const ce=new Set;let ue;function de(){ue={r:0,c:[],p:ue}}function fe(){ue.r||i(ue.c),ue=ue.p}function he(e,t){e&&e.i&&(ce.delete(e),e.i(t))}function pe(e,t,n,o){if(e&&e.o){if(ce.has(e))return;ce.add(e),ue.c.push((()=>{ce.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}else o&&o()}const ge={duration:0};const me="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function ve(e,t){e.f(),function(e,t){pe(e,1,1,(()=>{t.delete(e.key)}))}(e,t)}function we(e,t,n){const o=e.$$.props[t];void 0!==o&&(e.$$.bound[o]=n,n(e.$$.ctx[o]))}function ye(e){e&&e.c()}function be(e,t,n,a){const{fragment:r,on_mount:l,on_destroy:c,after_update:u}=e.$$;r&&r.m(t,n),a||ee((()=>{const t=l.map(o).filter(s);c?c.push(...t):i(t),e.$$.on_mount=[]})),u.forEach(ee)}function $e(e,t){const n=e.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ke(e,t){-1===e.$$.dirty[0]&&(H.push(e),X||(X=!0,Q.then(ie)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function xe(t,n,o,s,r,l,c,u=[-1]){const d=z;K(t);const f=t.$$={fragment:null,ctx:null,props:l,update:e,not_equal:r,bound:a(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(d?d.$$.context:[])),callbacks:a(),dirty:u,skip_bound:!1,root:n.target||d.$$.root};c&&c(f.root);let h=!1;if(f.ctx=o?o(t,n.props||{},((e,n,...o)=>{const a=o.length?o[0]:n;return f.ctx&&r(f.ctx[e],f.ctx[e]=a)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](a),h&&ke(t,e)),n})):[],f.update(),h=!0,i(f.before_update),f.fragment=!!s&&s(f.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);f.fragment&&f.fragment.l(e),e.forEach(k)}else f.fragment&&f.fragment.c();n.intro&&he(t.$$.fragment),be(t,n.target,n.anchor,n.customElement),ie()}K(d)}class Se{$destroy(){$e(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const _e=[];let Ce=function(t,n=e){let o;const a=new Set;function i(e){if(r(t,e)&&(t=e,o)){const e=!_e.length;for(const e of a)e[1](),_e.push(e,t);if(e){for(let e=0;e<_e.length;e+=2)_e[e][0](_e[e+1]);_e.length=0}}}return{set:i,update:function(e){i(e(t))},subscribe:function(s,r=e){const l=[s,r];return a.add(l),1===a.size&&(o=n(i)||e),s(t),()=>{a.delete(l),0===a.size&&(o(),o=null)}}}}([]);var Ae={show(e,{timeout:t=1e3,dismissable:n=!0}={}){let o=Math.random().toString(36).slice(2);return Ce.update((a=>[...a,{timer:setTimeout((()=>{this.hide(o)}),t),dismissable:n,id:o,text:e}])),{dismiss(){this.hide(o)}}},hide(e){Ce.update((t=>t.filter((t=>t.id!==e))))}};function Me(e){const t=e-1;return t*t*t+1}function Te(e){return--e*e*e*e*e+1}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */function Pe(e){var{fallback:t}=e,o=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]])}return n}(e,["fallback"]);const a=new Map,i=new Map;function r(e,a,i){return(r,l)=>(e.set(l.key,{rect:r.getBoundingClientRect()}),()=>{if(a.has(l.key)){const{rect:e}=a.get(l.key);return a.delete(l.key),function(e,t,a){const{delay:i=0,duration:r=(e=>30*Math.sqrt(e)),easing:l=Me}=n(n({},o),a),c=t.getBoundingClientRect(),u=e.left-c.left,d=e.top-c.top,f=e.width/c.width,h=e.height/c.height,p=Math.sqrt(u*u+d*d),g=getComputedStyle(t),m="none"===g.transform?"":g.transform,v=+g.opacity;return{delay:i,duration:s(r)?r(p):r,easing:l,css:(e,t)=>`\n\t\t\t\topacity: ${e*v};\n\t\t\t\ttransform-origin: top left;\n\t\t\t\ttransform: ${m} translate(${t*u}px,${t*d}px) scale(${e+(1-e)*f}, ${e+(1-e)*h});\n\t\t\t`}}(e,r,l)}return e.delete(l.key),t&&t(r,l,i)})}return[r(i,a,!1),r(a,i,!0)]}function je(e,{from:t,to:n},o={}){const a=getComputedStyle(e),i="none"===a.transform?"":a.transform,[r,l]=a.transformOrigin.split(" ").map(parseFloat),c=t.left+t.width*r/n.width-(n.left+r),u=t.top+t.height*l/n.height-(n.top+l),{delay:d=0,duration:f=(e=>120*Math.sqrt(e)),easing:h=Me}=o;return{delay:d,duration:s(f)?f(Math.sqrt(c*c+u*u)):f,easing:h,css:(e,o)=>{const a=o*c,s=o*u,r=e+o*t.width/n.width,l=e+o*t.height/n.height;return`transform: ${i} translate(${a}px, ${s}px) scale(${r}, ${l});`}}}function Oe(e,t,n){const o=e.slice();return o[5]=t[n],o}function De(e){let t,n,o;return{c(){t=x("button"),t.textContent="x",T(t,"class","dismiss svelte-4iqf5u")},m(a,i){$(a,t,i),n||(o=M(t,"click",(function(){s(e[1](e[5].id))&&e[1](e[5].id).apply(this,arguments)})),n=!0)},p(t,n){e=t},d(e){e&&k(t),n=!1,o()}}}function Ie(n,o){let a,r,l,c,u,d,f,p,g,m,y=o[5].text+"",b=e,S=o[5].dismissable&&De(o);return{key:n,first:null,c(){a=x("div"),r=x("span"),l=_(y),c=C(),S&&S.c(),u=C(),T(r,"id","text"),T(r,"class","svelte-4iqf5u"),T(a,"class","notification svelte-4iqf5u"),T(a,"id",d=o[5].id),this.first=a},m(e,t){$(e,a,t),w(a,r),w(r,l),w(a,c),S&&S.m(a,null),w(a,u),m=!0},p(e,t){o=e,(!m||1&t)&&y!==(y=o[5].text+"")&&O(l,y),o[5].dismissable?S?S.p(o,t):(S=De(o),S.c(),S.m(a,u)):S&&(S.d(1),S=null),(!m||1&t&&d!==(d=o[5].id))&&T(a,"id",d)},r(){g=a.getBoundingClientRect()},f(){!function(e){const t=getComputedStyle(e);if("absolute"!==t.position&&"fixed"!==t.position){const{width:n,height:o}=t,a=e.getBoundingClientRect();e.style.position="absolute",e.style.width=n,e.style.height=o,F(e,a)}}(a),b(),F(a,g)},a(){b(),b=function(n,o,a,i){if(!o)return e;const s=n.getBoundingClientRect();if(o.left===s.left&&o.right===s.right&&o.top===s.top&&o.bottom===s.bottom)return e;const{delay:r=0,duration:l=300,easing:c=t,start:u=h()+r,end:d=u+l,tick:f=e,css:p}=a(n,{from:o,to:s},i);let g,m=!0,w=!1;function y(){p&&R(n,g),m=!1}return v((e=>{if(!w&&e>=u&&(w=!0),w&&e>=d&&(f(1,0),y()),!m)return!1;if(w){const t=0+1*c((e-u)/l);f(t,1-t)}return!0})),p&&(g=L(n,0,1,l,r,c,p)),r||(w=!0),f(0,1),y}(a,g,je,{duration:200})},i(n){m||(ee((()=>{p&&p.end(1),f=function(n,o,a){let i,r,l=o(n,a),c=!1,u=0;function d(){i&&R(n,i)}function f(){const{delay:o=0,duration:a=300,easing:s=t,tick:f=e,css:p}=l||ge;p&&(i=L(n,0,1,a,o,s,p,u++)),f(0,1);const g=h()+o,m=g+a;r&&r.abort(),c=!0,ee((()=>le(n,!0,"start"))),r=v((e=>{if(c){if(e>=m)return f(1,0),le(n,!0,"end"),d(),c=!1;if(e>=g){const t=s((e-g)/a);f(t,1-t)}}return c}))}let p=!1;return{start(){p||(p=!0,R(n),s(l)?(l=l(),re().then(f)):f())},invalidate(){p=!1},end(){c&&(d(),c=!1)}}}(a,o[3],{key:o[5].id}),f.start()})),m=!0)},o(n){f&&f.invalidate(),p=function(n,o,a){let r,l=o(n,a),c=!0;const u=ue;function d(){const{delay:o=0,duration:a=300,easing:s=t,tick:d=e,css:f}=l||ge;f&&(r=L(n,1,0,a,o,s,f));const p=h()+o,g=p+a;ee((()=>le(n,!1,"start"))),v((e=>{if(c){if(e>=g)return d(0,1),le(n,!1,"end"),--u.r||i(u.c),!1;if(e>=p){const t=s((e-p)/a);d(1-t,t)}}return c}))}return u.r+=1,s(l)?re().then((()=>{l=l(),d()})):d(),{end(e){e&&l.tick&&l.tick(1,0),c&&(r&&R(n,r),c=!1)}}}(a,o[2],{key:o[5].id}),m=!1},d(e){e&&k(a),S&&S.d(),e&&p&&p.end()}}}function Be(e){let t,n,o=[],a=new Map,i=e[0];const s=e=>e[5].id;for(let t=0;t<i.length;t+=1){let n=Oe(e,i,t),r=s(n);a.set(r,o[t]=Ie(r,n))}return{c(){t=x("div");for(let e=0;e<o.length;e+=1)o[e].c();T(t,"id","notifications_container"),T(t,"class","svelte-4iqf5u")},m(e,a){$(e,t,a);for(let e=0;e<o.length;e+=1)o[e].m(t,null);n=!0},p(e,[n]){if(3&n){i=e[0],de();for(let e=0;e<o.length;e+=1)o[e].r();o=function(e,t,n,o,a,i,s,r,l,c,u,d){let f=e.length,h=i.length,p=f;const g={};for(;p--;)g[e[p].key]=p;const m=[],v=new Map,w=new Map;for(p=h;p--;){const e=d(a,i,p),r=n(e);let l=s.get(r);l?o&&l.p(e,t):(l=c(r,e),l.c()),v.set(r,m[p]=l),r in g&&w.set(r,Math.abs(p-g[r]))}const y=new Set,b=new Set;function $(e){he(e,1),e.m(r,u),s.set(e.key,e),u=e.first,h--}for(;f&&h;){const t=m[h-1],n=e[f-1],o=t.key,a=n.key;t===n?(u=t.first,f--,h--):v.has(a)?!s.has(o)||y.has(o)?$(t):b.has(a)?f--:w.get(o)>w.get(a)?(b.add(o),$(t)):(y.add(a),f--):(l(n,s),f--)}for(;f--;){const t=e[f];v.has(t.key)||l(t,s)}for(;h;)$(m[h-1]);return m}(o,n,s,1,e,i,a,t,ve,Ie,null,Oe);for(let e=0;e<o.length;e+=1)o[e].a();fe()}},i(e){if(!n){for(let e=0;e<i.length;e+=1)he(o[e]);n=!0}},o(e){for(let e=0;e<o.length;e+=1)pe(o[e]);n=!1},d(e){e&&k(t);for(let e=0;e<o.length;e+=1)o[e].d()}}}function Ne(e,t,n){let o,a;u(e,Ce,(e=>n(4,a=e)));const[i,s]=Pe({duration:e=>Math.sqrt(200*e),fallback(e,t){const n=getComputedStyle(e),o="none"===n.transform?"":n.transform;return{duration:600,easing:Te,css:e=>`\n\t\t\t\t\ttransform: ${o} scale(${e});\n\t\t\t\t\topacity: ${e}\n\t\t\t\t`}}});return e.$$.update=()=>{16&e.$$.dirty&&n(0,o=a)},[o,function(e){return()=>{var t,n;t=Ce,a=a.filter((t=>t.id!==e)),n=a,t.set(n)}},i,s,a]}class qe extends Se{constructor(e){super(),xe(this,e,Ne,Be,r,{})}}function Ee(e){let t,n,o,a,i=e[2]&&Ve(e);return{c(){t=x("h2"),t.textContent="NoViews",n=C(),i&&i.c(),o=C(),a=x("span"),a.textContent="Find a random YouTube video with 1 or less views",T(t,"class","svelte-16if8ed"),T(a,"class","desc svelte-16if8ed")},m(e,s){$(e,t,s),$(e,n,s),i&&i.m(e,s),$(e,o,s),$(e,a,s)},p(e,t){e[2]?i?i.p(e,t):(i=Ve(e),i.c(),i.m(o.parentNode,o)):i&&(i.d(1),i=null)},d(e){e&&k(t),e&&k(n),i&&i.d(e),e&&k(o),e&&k(a)}}}function ze(e){let t,n,o;return{c(){t=x("iframe"),c(t.src,n="https://www.youtube.com/embed/"+e[1].id)||T(t,"src",n),T(t,"allow","encrypted-media"),T(t,"title",o=e[1].title),T(t,"frameborder","0"),t.allowFullscreen=!0,T(t,"class","svelte-16if8ed")},m(e,n){$(e,t,n)},p(e,a){2&a&&!c(t.src,n="https://www.youtube.com/embed/"+e[1].id)&&T(t,"src",n),2&a&&o!==(o=e[1].title)&&T(t,"title",o)},d(e){e&&k(t)}}}function Ve(e){let t,n,o=("string"==typeof e[2]?e[2]:"There was an error")+"";return{c(){t=x("span"),n=_(o),T(t,"class","error svelte-16if8ed")},m(e,o){$(e,t,o),w(t,n)},p(e,t){4&t&&o!==(o=("string"==typeof e[2]?e[2]:"There was an error")+"")&&O(n,o)},d(e){e&&k(t)}}}function Le(e){let t,n,o,a,i,s,r,l,c,u,d,f,h,p,g,m,v,y,b,A,M,P,j,D,I,B,N,q,E,z,V=e[4].title+"",L=e[1].statistics.viewCount+"",R=e[4].channelTitle+"",F=Je(e[4].publishedAt,{zero:!1,max:1})+"",K=e[1].description?.trim()?.length?" – "+He(e[4].description):"";return{c(){t=x("div"),n=x("div"),o=x("a"),a=_(V),s=C(),r=x("div"),l=S("svg"),c=S("g"),u=S("circle"),d=S("path"),f=C(),h=_(L),p=C(),g=x("a"),m=S("svg"),v=S("path"),y=S("path"),b=C(),A=_(R),j=C(),D=x("div"),I=x("span"),B=_(F),N=_(" ago"),E=C(),z=_(K),T(o,"class","title svelte-16if8ed"),T(o,"href",i="https://youtube.com/watch?v="+e[1].id),T(u,"cx","12"),T(u,"cy","12"),T(u,"r","2"),T(u,"class","svelte-16if8ed"),T(d,"d","M22 12c-2.667 4.667-6 7-10 7s-7.333-2.333-10-7c2.667-4.667 6-7 10-7s7.333 2.333 10 7"),T(d,"class","svelte-16if8ed"),T(c,"fill","none"),T(c,"stroke","currentColor"),T(c,"stroke-linecap","round"),T(c,"stroke-linejoin","round"),T(c,"stroke-width","2"),T(c,"class","svelte-16if8ed"),T(l,"width","32"),T(l,"height","32"),T(l,"viewBox","0 0 24 24"),T(l,"class","svelte-16if8ed"),T(r,"class","views svelte-16if8ed"),T(n,"class","heading svelte-16if8ed"),T(v,"fill","currentColor"),T(v,"d","M16 8a5 5 0 1 0 5 5a5 5 0 0 0-5-5Zm0 8a3 3 0 1 1 3-3a3.003 3.003 0 0 1-3 3Z"),T(v,"class","svelte-16if8ed"),T(y,"fill","currentColor"),T(y,"d","M16 2a14 14 0 1 0 14 14A14.016 14.016 0 0 0 16 2Zm-6 24.377V25a3.003 3.003 0 0 1 3-3h6a3.003 3.003 0 0 1 3 3v1.377a11.899 11.899 0 0 1-12 0Zm13.992-1.451A5.002 5.002 0 0 0 19 20h-6a5.002 5.002 0 0 0-4.992 4.926a12 12 0 1 1 15.985 0Z"),T(y,"class","svelte-16if8ed"),T(m,"width","32"),T(m,"height","32"),T(m,"viewBox","0 0 32 32"),T(m,"class","svelte-16if8ed"),T(g,"class","channel svelte-16if8ed"),T(g,"href",M="https://youtube.com/channel/"+e[4].channelId),T(g,"data-tippy-content",P="Visit "+e[4].channelTitle+" on YouTube"),T(I,"data-tippy-content",q=e[4].publishedAt),T(I,"class","svelte-16if8ed"),T(D,"class","desc svelte-16if8ed"),T(t,"class","info svelte-16if8ed")},m(e,i){$(e,t,i),w(t,n),w(n,o),w(o,a),w(n,s),w(n,r),w(r,l),w(l,c),w(c,u),w(c,d),w(r,f),w(r,h),w(t,p),w(t,g),w(g,m),w(m,v),w(m,y),w(g,b),w(g,A),w(t,j),w(t,D),w(D,I),w(I,B),w(I,N),w(D,E),w(D,z)},p(e,t){16&t&&V!==(V=e[4].title+"")&&O(a,V),2&t&&i!==(i="https://youtube.com/watch?v="+e[1].id)&&T(o,"href",i),2&t&&L!==(L=e[1].statistics.viewCount+"")&&O(h,L),16&t&&R!==(R=e[4].channelTitle+"")&&O(A,R),16&t&&M!==(M="https://youtube.com/channel/"+e[4].channelId)&&T(g,"href",M),16&t&&P!==(P="Visit "+e[4].channelTitle+" on YouTube")&&T(g,"data-tippy-content",P),16&t&&F!==(F=Je(e[4].publishedAt,{zero:!1,max:1})+"")&&O(B,F),16&t&&q!==(q=e[4].publishedAt)&&T(I,"data-tippy-content",q),18&t&&K!==(K=e[1].description?.trim()?.length?" – "+He(e[4].description):"")&&O(z,K)},d(e){e&&k(t)}}}function Re(e){let t,n,o,a,s,r,l;function c(e,t){return e[1]?Ue:Ke}let u=c(e),d=u(e);return{c(){t=x("div"),n=x("button"),d.c(),o=C(),a=S("svg"),s=S("path"),T(n,"class","search button svelte-16if8ed"),T(s,"fill","currentColor"),T(s,"d","m19.588 15.492l-1.814-1.29a6.483 6.483 0 0 0-.005-3.421l1.82-1.274l-1.453-2.514l-2.024.926a6.484 6.484 0 0 0-2.966-1.706L12.953 4h-2.906l-.193 2.213A6.483 6.483 0 0 0 6.889 7.92l-2.025-.926l-1.452 2.514l1.82 1.274a6.483 6.483 0 0 0-.006 3.42l-1.814 1.29l1.452 2.502l2.025-.927a6.483 6.483 0 0 0 2.965 1.706l.193 2.213h2.906l.193-2.213a6.484 6.484 0 0 0 2.965-1.706l2.025.927l1.453-2.501ZM13.505 2.985a.5.5 0 0 1 .5.477l.178 2.035a7.45 7.45 0 0 1 2.043 1.178l1.85-.863a.5.5 0 0 1 .662.195l2.005 3.47a.5.5 0 0 1-.162.671l-1.674 1.172c.128.798.124 1.593.001 2.359l1.673 1.17a.5.5 0 0 1 .162.672l-2.005 3.457a.5.5 0 0 1-.662.195l-1.85-.863c-.602.49-1.288.89-2.043 1.179l-.178 2.035a.5.5 0 0 1-.5.476h-4.01a.5.5 0 0 1-.5-.476l-.178-2.035a7.453 7.453 0 0 1-2.043-1.179l-1.85.863a.5.5 0 0 1-.663-.194L2.257 15.52a.5.5 0 0 1 .162-.671l1.673-1.171a7.45 7.45 0 0 1 0-2.359L2.42 10.148a.5.5 0 0 1-.162-.67L4.26 6.007a.5.5 0 0 1 .663-.195l1.85.863a7.45 7.45 0 0 1 2.043-1.178l.178-2.035a.5.5 0 0 1 .5-.477h4.01ZM11.5 9a3.5 3.5 0 1 1 0 7a3.5 3.5 0 0 1 0-7Zm0 1a2.5 2.5 0 1 0 0 5a2.5 2.5 0 0 0 0-5Z"),T(s,"class","svelte-16if8ed"),T(a,"data-tippy-content","Settings"),T(a,"width","32"),T(a,"height","32"),T(a,"viewBox","0 0 24 24"),T(a,"class","svelte-16if8ed"),T(t,"class","buttons svelte-16if8ed")},m(i,c){$(i,t,c),w(t,n),d.m(n,null),w(t,o),w(t,a),w(a,s),r||(l=[M(n,"click",e[6]),M(a,"click",e[11])],r=!0)},p(e,t){u!==(u=c(e))&&(d.d(1),d=u(e),d&&(d.c(),d.m(n,null)))},d(e){e&&k(t),d.d(),r=!1,i(l)}}}function Fe(t){let n;return{c(){n=x("span"),n.textContent="Loading...",T(n,"class","loading desc svelte-16if8ed")},m(e,t){$(e,n,t)},p:e,d(e){e&&k(n)}}}function Ke(e){let t;return{c(){t=_("Go!")},m(e,n){$(e,t,n)},d(e){e&&k(t)}}}function Ue(e){let t;return{c(){t=_("Again!")},m(e,n){$(e,t,n)},d(e){e&&k(t)}}}function Ge(t){let n,o,a,i;return{c(){n=S("svg"),o=S("path"),T(o,"fill","currentColor"),T(o,"d","m221.7 133.7l-42 42a8.3 8.3 0 0 1-5.7 2.3a8 8 0 0 1-5.6-13.7l28.3-28.3H104a8 8 0 0 1 0-16h92.7l-28.3-28.3a8 8 0 0 1 11.3-11.4l42 42a8.1 8.1 0 0 1 0 11.4ZM104 208H48V48h56a8 8 0 0 0 0-16H48a16 16 0 0 0-16 16v160a16 16 0 0 0 16 16h56a8 8 0 0 0 0-16Z"),T(o,"class","svelte-16if8ed"),T(n,"data-tippy-content","Signout"),T(n,"class","signout svelte-16if8ed"),T(n,"width","32"),T(n,"height","32"),T(n,"viewBox","0 0 256 256")},m(e,s){$(e,n,s),w(n,o),a||(i=M(n,"click",t[12]),a=!0)},p:e,d(e){e&&k(n),a=!1,i()}}}function Ze(t){let n,o,a,i;function s(e,t){return e[1]?ze:e[3]?void 0:Ee}let r=s(t),l=r&&r(t),c=t[4]&&Le(t);function u(e,t){return e[3]?Fe:Re}let d=u(t),f=d(t),h=t[0]&&Ge(t);return{c(){l&&l.c(),n=C(),c&&c.c(),o=C(),f.c(),a=C(),h&&h.c(),i=A()},m(e,t){l&&l.m(e,t),$(e,n,t),c&&c.m(e,t),$(e,o,t),f.m(e,t),$(e,a,t),h&&h.m(e,t),$(e,i,t)},p(e,[t]){r===(r=s(e))&&l?l.p(e,t):(l&&l.d(1),l=r&&r(e),l&&(l.c(),l.m(n.parentNode,n))),e[4]?c?c.p(e,t):(c=Le(e),c.c(),c.m(o.parentNode,o)):c&&(c.d(1),c=null),d===(d=u(e))&&f?f.p(e,t):(f.d(1),f=d(e),f&&(f.c(),f.m(a.parentNode,a))),e[0]?h?h.p(e,t):(h=Ge(e),h.c(),h.m(i.parentNode,i)):h&&(h.d(1),h=null)},i:e,o:e,d(e){l&&l.d(e),e&&k(n),c&&c.d(e),e&&k(o),f.d(e),e&&k(a),h&&h.d(e),e&&k(i)}}}function He(e,t){return e?.length>t?e?.slice(0,-3)+"...":e}function Je(e,t){var n=6e4,o=60*n,a=24*o,i=365*a,s=30*a;t=t||{};var r=new Date(e).getTime()-Date.now(),l=Math.abs(r);if(l<n)return"just now";var c,u,d={year:l/i,month:l%i/s,day:l%s/a,hour:l%a/o,minute:l%o/n},f=[],h=t.max||n;for(c in d)f.length<h&&((u=Math.floor(d[c]))||t.zero)&&f.push(u+" "+(1==u?c:c+"s"));return h=", ",(c=f.length)>1&&t.and&&(2==c&&(h=" "),f[--c]="and "+f[c]),u=f.join(h),t.suffix&&(u+=r<0?" ago":" from now"),u}function Ye(e,t,n){let o,a,{queryParams:i={}}=t,s=!1,r=Z(),{fetchOpts:l={}}=t,c=!1,{searchPattern:u="[random_prefix][random_whitespace][random_number]"}=t,{maxViews:d=1}=t,{showSignout:f=!0}=t,h=1;async function p(e=5,t=[]){if(e<=0)return Ae.show("Couldn't find a video with less than "+h+" views"),console.log("Couldn't find"),n(1,a=t.sort(((e,t)=>e.statistics.viewCount-t.statistics.viewCount))[0]),console.log(a),a;const o="IMG,IMG_,IMG-,DSC".split(","),s=["-","_"," "];let r=u.replace(/\[random[ _-]number\]/g,(()=>Math.round(9999*Math.random()))).replace(/\[random[ _-]prefix\]/g,(()=>o[Math.floor(Math.random()*o.length)])).replace(/\[random[ _-]whitespace\]/g,(()=>s[Math.floor(Math.random()*s.length)]));Ae.show(`Searching for "${r}"`);let c=await fetch(`https://www.googleapis.com/youtube/v3/search?q=${r}&part=snippet&${new URLSearchParams(i).toString()}&type=video&videoEmbeddable=true`,l).then((e=>e.json()));if(console.log(c),c.error)throw console.error(c),new Error(c.error.message);let d=await fetch(`https://www.googleapis.com/youtube/v3/videos?id=${c.items.map((e=>e.id.videoId)).join(",")}&part=statistics,snippet&${new URLSearchParams(i).toString()}&type=video&videoEmbeddable=true`,l).then((e=>e.json())).then((e=>e.items));const f=d.find((e=>e.statistics.viewCount<=h));return f?(console.log("Found: ",f),n(1,a=f)):p(e-1,[...t,...d])}G((()=>h=parseInt(d,10)));return e.$$set=e=>{"queryParams"in e&&n(7,i=e.queryParams),"fetchOpts"in e&&n(8,l=e.fetchOpts),"searchPattern"in e&&n(9,u=e.searchPattern),"maxViews"in e&&n(10,d=e.maxViews),"showSignout"in e&&n(0,f=e.showSignout)},e.$$.update=()=>{2&e.$$.dirty&&n(4,o=a?.snippet)},[f,a,s,c,o,r,async function(){n(3,c=!0),n(2,s=!1),Ae.show("Searching...");try{await p(5)}catch(e){Ae.show("There was an error"),n(2,s=e.message||!0),n(1,a=null),n(3,c=!1)}n(3,c=!1)},i,l,u,d,()=>r("settings"),()=>(localStorage.clear(),location.reload())]}class We extends Se{constructor(e){super(),xe(this,e,Ye,Ze,r,{queryParams:7,fetchOpts:8,searchPattern:9,maxViews:10,showSignout:0})}}function Qe(e,t,n){const o=e.slice();return o[6]=t[n],o}function Xe(e){let t,n,o,a,i=e[6].label+"";return{c(){t=x("option"),n=_(i),t.selected=o=e[6].value===e[1],t.__value=a=e[6].value,t.value=t.__value},m(e,o){$(e,t,o),w(t,n)},p(e,s){1&s&&i!==(i=e[6].label+"")&&O(n,i),3&s&&o!==(o=e[6].value===e[1])&&(t.selected=o),1&s&&a!==(a=e[6].value)&&(t.__value=a,t.value=t.__value)},d(e){e&&k(t)}}}function et(t){let o,a,s,r=t[0],l=[];for(let e=0;e<r.length;e+=1)l[e]=Xe(Qe(t,r,e));let c=[t[3]],u={};for(let e=0;e<c.length;e+=1)u=n(u,c[e]);return{c(){o=x("select");for(let e=0;e<l.length;e+=1)l[e].c();P(o,u),void 0===t[1]&&ee((()=>t[4].call(o)))},m(e,n){$(e,o,n);for(let e=0;e<l.length;e+=1)l[e].m(o,null);(u.multiple?N:B)(o,u.value),o.autofocus&&o.focus(),B(o,t[1]),a||(s=[M(o,"change",t[4]),M(o,"blur",t[5])],a=!0)},p(e,[t]){if(3&t){let n;for(r=e[0],n=0;n<r.length;n+=1){const a=Qe(e,r,n);l[n]?l[n].p(a,t):(l[n]=Xe(a),l[n].c(),l[n].m(o,null))}for(;n<l.length;n+=1)l[n].d(1);l.length=r.length}P(o,u=function(e,t){const n={},o={},a={$$scope:1};let i=e.length;for(;i--;){const s=e[i],r=t[i];if(r){for(const e in s)e in r||(o[e]=1);for(const e in r)a[e]||(n[e]=r[e],a[e]=1);e[i]=r}else for(const e in s)a[e]=1}for(const e in o)e in n||(n[e]=void 0);return n}(c,[8&t&&e[3]])),8&t&&"value"in u&&(u.multiple?N:B)(o,u.value),3&t&&B(o,e[1])},i:e,o:e,d(e){e&&k(o),function(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}(l,e),a=!1,i(s)}}}function tt(e,t,o){let{options:a=[]}=t,{value:i=""}=t,s=Z();G((()=>{o(0,a=a.map((e=>"string"==typeof e?{label:e[0].toUpperCase()+e.slice(1),value:e}:e))),i||o(1,i=a[0].value)}));return e.$$set=e=>{o(3,t=n(n({},t),d(e))),"options"in e&&o(0,a=e.options),"value"in e&&o(1,i=e.value)},t=d(t),[a,i,s,t,function(){i=function(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}(this),o(1,i),o(0,a)},e=>s("change",e)]}class nt extends Se{constructor(e){super(),xe(this,e,tt,et,r,{options:0,value:1})}}var ot={aa:"Afar",ab:"Abkhazian",ae:"Avestan",af:"Afrikaans",ak:"Akan",am:"Amharic",an:"Aragonese",ar:"Arabic",as:"Assamese",av:"Avaric",ay:"Aymara",az:"Azerbaijani",ba:"Bashkir",be:"Belarusian",bg:"Bulgarian",bh:"Bihari languages",bi:"Bislama",bm:"Bambara",bn:"Bengali",bo:"Tibetan",br:"Breton",bs:"Bosnian",ca:"Catalan",ce:"Chechen",ch:"Chamorro",co:"Corsican",cr:"Cree",cs:"Czech",cu:"Church Slavic",cv:"Chuvash",cy:"Welsh",da:"Danish",de:"German",dv:"Maldivian",dz:"Dzongkha",ee:"Ewe",el:"Greek",en:"English",eo:"Esperanto",es:"Spanish",et:"Estonian",eu:"Basque",fa:"Persian",ff:"Fulah",fi:"Finnish",fj:"Fijian",fo:"Faroese",fr:"French",fy:"Western Frisian",ga:"Irish",gd:"Gaelic",gl:"Galician",gn:"Guarani",gu:"Gujarati",gv:"Manx",ha:"Hausa",he:"Hebrew",hi:"Hindi",ho:"Hiri Motu",hr:"Croatian",ht:"Haitian",hu:"Hungarian",hy:"Armenian",hz:"Herero",ia:"Interlingua",id:"Indonesian",ie:"Interlingue",ig:"Igbo",ii:"Sichuan Yi",ik:"Inupiaq",io:"Ido",is:"Icelandic",it:"Italian",iu:"Inuktitut",ja:"Japanese",jv:"Javanese",ka:"Georgian",kg:"Kongo",ki:"Kikuyu",kj:"Kuanyama",kk:"Kazakh",kl:"Kalaallisut",km:"Central Khmer",kn:"Kannada",ko:"Korean",kr:"Kanuri",ks:"Kashmiri",ku:"Kurdish",kv:"Komi",kw:"Cornish",ky:"Kirghiz",la:"Latin",lb:"Luxembourgish",lg:"Ganda",li:"Limburgan",ln:"Lingala",lo:"Lao",lt:"Lithuanian",lu:"Luba-Katanga",lv:"Latvian",mg:"Malagasy",mh:"Marshallese",mi:"Maori",mk:"Macedonian",ml:"Malayalam",mn:"Mongolian",mr:"Marathi",ms:"Malay",mt:"Maltese",my:"Burmese",na:"Nauru",nb:"Norwegian",nd:"North Ndebele",ne:"Nepali",ng:"Ndonga",nl:"Dutch",nn:"Norwegian",no:"Norwegian",nr:"South Ndebele",nv:"Navajo",ny:"Chichewa",oc:"Occitan",oj:"Ojibwa",om:"Oromo",or:"Oriya",os:"Ossetic",pa:"Panjabi",pi:"Pali",pl:"Polish",ps:"Pushto",pt:"Portuguese",qu:"Quechua",rm:"Romansh",rn:"Rundi",ro:"Romanian",ru:"Russian",rw:"Kinyarwanda",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",se:"Northern Sami",sg:"Sango",si:"Sinhala",sk:"Slovak",sl:"Slovenian",sm:"Samoan",sn:"Shona",so:"Somali",sq:"Albanian",sr:"Serbian",ss:"Swati",st:"Sotho, Southern",su:"Sundanese",sv:"Swedish",sw:"Swahili",ta:"Tamil",te:"Telugu",tg:"Tajik",th:"Thai",ti:"Tigrinya",tk:"Turkmen",tl:"Tagalog",tn:"Tswana",to:"Tonga",tr:"Turkish",ts:"Tsonga",tt:"Tatar",tw:"Twi",ty:"Tahitian",ug:"Uighur",uk:"Ukrainian",ur:"Urdu",uz:"Uzbek",ve:"Venda",vi:"Vietnamese",vo:"Volapük",wa:"Walloon",wo:"Wolof",xh:"Xhosa",yi:"Yiddish",yo:"Yoruba",za:"Zhuang",zh:"Chinese",zu:"Zulu"};function at(e){let t,n,o,a,s,r,l,c,u,d,f,h,p,g,m,v,y,b,S,_,A,P,O,B,N,q,E,z,V,L,R,F,K,U,G,Z,H,Y,W,Q,X,ee,ne;function oe(t){e[8](t)}let ae={id:"videoDuration",options:["any","short","medium","long"]};function ie(t){e[11](t)}void 0!==e[0].videoDuration&&(ae.value=e[0].videoDuration),A=new nt({props:ae}),J.push((()=>we(A,"value",oe)));let se={id:"language",options:Object.entries(ot).map(it)};function re(t){e[12](t)}void 0!==e[0].language&&(se.value=e[0].language),U=new nt({props:se}),J.push((()=>we(U,"value",ie)));let le={options:["none","moderate","strict"]};return void 0!==e[0].safeSearch&&(le.value=e[0].safeSearch),W=new nt({props:le}),J.push((()=>we(W,"value",re))),{c(){t=x("div"),n=x("div"),o=x("button"),o.innerHTML='<svg width="32" height="32" viewBox="0 0 512 512"><path fill="currentColor" d="M340.2 160l-84.4 84.3-84-83.9-11.8 11.8 84 83.8-84 83.9 11.8 11.7 84-83.8 84.4 84.2 11.8-11.7-84.4-84.3 84.4-84.2z"></path></svg>',a=C(),s=x("h2"),s.textContent="Settings",r=C(),l=x("span"),l.textContent="Filter search results",c=C(),u=x("label"),u.textContent="Maximum views:",d=C(),f=x("input"),h=C(),p=x("label"),p.textContent="Search pattern:",g=C(),m=x("span"),m.textContent='Use "[random_number]", "[random_prefix]" and "[random_whitespace]" to randomize',v=C(),y=x("input"),b=C(),S=x("label"),S.textContent="Length:",_=C(),ye(A.$$.fragment),O=C(),B=x("label"),B.textContent="Published after:",N=C(),q=x("input"),E=C(),z=x("label"),z.textContent="Published before:",V=C(),L=x("input"),R=C(),F=x("label"),F.textContent="Language for search results:",K=C(),ye(U.$$.fragment),Z=C(),H=x("label"),H.textContent="Safesearch",Y=C(),ye(W.$$.fragment),T(o,"class","close svelte-v9lr0e"),T(s,"class","svelte-v9lr0e"),T(l,"class","desc"),I(l,"text-align","center"),I(l,"width","100%"),T(u,"for","maxViews"),T(u,"class","svelte-v9lr0e"),T(f,"type","number"),T(p,"for","searchPattern"),T(p,"class","svelte-v9lr0e"),T(m,"class","desc"),T(y,"type","text"),T(S,"for","videoDuration"),T(S,"class","length_label svelte-v9lr0e"),T(B,"for","publishedAfter"),T(B,"class","publishedAfter svelte-v9lr0e"),T(q,"id","publishedAfter"),T(q,"type","date"),T(z,"for","publishedBefore"),T(z,"class","publishedBefore svelte-v9lr0e"),T(L,"id","publishedBefore"),T(L,"type","date"),T(F,"for","language"),T(F,"class","language svelte-v9lr0e"),T(H,"for","safeSearch"),T(H,"class","svelte-v9lr0e"),T(n,"class","settings svelte-v9lr0e"),T(t,"class","settings_wrapper svelte-v9lr0e")},m(i,k){$(i,t,k),w(t,n),w(n,o),w(n,a),w(n,s),w(n,r),w(n,l),w(n,c),w(n,u),w(n,d),w(n,f),D(f,e[0].maxViews),w(n,h),w(n,p),w(n,g),w(n,m),w(n,v),w(n,y),D(y,e[0].searchPattern),w(n,b),w(n,S),w(n,_),be(A,n,null),w(n,O),w(n,B),w(n,N),w(n,q),e[9](q),w(n,E),w(n,z),w(n,V),w(n,L),e[10](L),w(n,R),w(n,F),w(n,K),be(U,n,null),w(n,Z),w(n,H),w(n,Y),be(W,n,null),X=!0,ee||(ne=[M(o,"click",e[5]),M(f,"input",e[6]),M(y,"input",e[7]),M(q,"change",e[4]),M(q,"keyup",e[4]),M(L,"change",e[4]),M(L,"keyup",e[4])],ee=!0)},p(e,[t]){1&t&&j(f.value)!==e[0].maxViews&&D(f,e[0].maxViews),1&t&&y.value!==e[0].searchPattern&&D(y,e[0].searchPattern);const n={};!P&&1&t&&(P=!0,n.value=e[0].videoDuration,te((()=>P=!1))),A.$set(n);const o={};!G&&1&t&&(G=!0,o.value=e[0].language,te((()=>G=!1))),U.$set(o);const a={};!Q&&1&t&&(Q=!0,a.value=e[0].safeSearch,te((()=>Q=!1))),W.$set(a)},i(e){X||(he(A.$$.fragment,e),he(U.$$.fragment,e),he(W.$$.fragment,e),X=!0)},o(e){pe(A.$$.fragment,e),pe(U.$$.fragment,e),pe(W.$$.fragment,e),X=!1},d(n){n&&k(t),$e(A),e[9](null),e[10](null),$e(U),$e(W),ee=!1,i(ne)}}}const it=e=>({value:e[0],label:e[1]});function st(e,t,n){let o,a,{opts:i={}}=t,s=Z();G((()=>{n(0,i={publishedAfter:new Date("January 1, 2000"),publishedBefore:new Date,language:"en",maxViews:1,searchPattern:"[random_prefix][random_whitespace][random_number]",videoDuration:"any",safeSearch:"moderate",...i}),n(1,o.valueAsDate=new Date(i.publishedAfter),o),n(2,a.valueAsDate=new Date(i.publishedBefore),a)}));return e.$$set=e=>{"opts"in e&&n(0,i=e.opts)},[i,o,a,s,function(){n(0,i.publishedAfter=o.valueAsDate,i),n(0,i.publishedBefore=a.valueAsDate,i)},()=>s("close"),function(){i.maxViews=j(this.value),n(0,i)},function(){i.searchPattern=this.value,n(0,i)},function(t){e.$$.not_equal(i.videoDuration,t)&&(i.videoDuration=t,n(0,i))},function(e){J[e?"unshift":"push"]((()=>{o=e,n(1,o)}))},function(e){J[e?"unshift":"push"]((()=>{a=e,n(2,a)}))},function(t){e.$$.not_equal(i.language,t)&&(i.language=t,n(0,i))},function(t){e.$$.not_equal(i.safeSearch,t)&&(i.safeSearch=t,n(0,i))}]}class rt extends Se{constructor(e){super(),xe(this,e,st,at,r,{opts:0})}}const{document:lt}=me;function ct(e){let t,n,o,a,i,s,r,l,c,u;function d(e,t){return e[4].loaded||e[4].reload?e[4].reload?dt:ut:ft}let f=d(e),h=f(e),p=e[4].loaded&&ht(e);return{c(){t=x("h2"),t.textContent="NoViews",n=C(),o=x("span"),o.textContent="Find a random YouTube video with 1 or less views",a=C(),i=x("button"),h.c(),r=C(),p&&p.c(),l=A(),T(o,"class","desc"),T(i,"data-tippy-content","Sign in with google"),i.disabled=s=!e[4].loaded&&!e[4].reload,T(i,"class","button")},m(s,d){$(s,t,d),$(s,n,d),$(s,o,d),$(s,a,d),$(s,i,d),h.m(i,null),$(s,r,d),p&&p.m(s,d),$(s,l,d),c||(u=M(i,"click",e[6]),c=!0)},p(e,t){f!==(f=d(e))&&(h.d(1),h=f(e),h&&(h.c(),h.m(i,null))),16&t&&s!==(s=!e[4].loaded&&!e[4].reload)&&(i.disabled=s),e[4].loaded?p?p.p(e,t):(p=ht(e),p.c(),p.m(l.parentNode,l)):p&&(p.d(1),p=null)},d(e){e&&k(t),e&&k(n),e&&k(o),e&&k(a),e&&k(i),h.d(),e&&k(r),p&&p.d(e),e&&k(l),c=!1,u()}}}function ut(e){let t;return{c(){t=_("Go!")},m(e,n){$(e,t,n)},d(e){e&&k(t)}}}function dt(e){let t;return{c(){t=_("There\n        was an error - Reload")},m(e,n){$(e,t,n)},d(e){e&&k(t)}}}function ft(e){let t;return{c(){t=_("Loading libraries...")},m(e,n){$(e,t,n)},d(e){e&&k(t)}}}function ht(t){let n,o,a;return{c(){n=x("span"),n.textContent="Use without signing in - May be rate limited",T(n,"data-tippy-content","This may or may not work depending on how many people use it"),T(n,"class","below svelte-1bljdl1")},m(e,i){$(e,n,i),o||(a=M(n,"click",t[7]),o=!0)},p:e,d(e){e&&k(n),o=!1,a()}}}function pt(e){let t,n;return t=new We({props:{fetchOpts:{headers:{Authorization:`${e[4].token.token_type} ${e[4].token.access_token}`}},showSignout:!0,maxViews:e[1].maxViews||1,searchPattern:e[1].searchPattern,queryParams:e[2]}}),t.$on("settings",e[8]),{c(){ye(t.$$.fragment)},m(e,o){be(t,e,o),n=!0},p(e,n){const o={};16&n&&(o.fetchOpts={headers:{Authorization:`${e[4].token.token_type} ${e[4].token.access_token}`}}),2&n&&(o.maxViews=e[1].maxViews||1),2&n&&(o.searchPattern=e[1].searchPattern),4&n&&(o.queryParams=e[2]),t.$set(o)},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){pe(t.$$.fragment,e),n=!1},d(e){$e(t,e)}}}function gt(e){let t,n,o;function a(t){e[9](t)}let i={};return void 0!==e[1]&&(i.opts=e[1]),t=new rt({props:i}),J.push((()=>we(t,"opts",a))),t.$on("close",e[10]),{c(){ye(t.$$.fragment)},m(e,n){be(t,e,n),o=!0},p(e,o){const a={};!n&&2&o&&(n=!0,a.opts=e[1],te((()=>n=!1))),t.$set(a)},i(e){o||(he(t.$$.fragment,e),o=!0)},o(e){pe(t.$$.fragment,e),o=!1},d(e){$e(t,e)}}}function mt(e){let t,n,o,a,i,s,r,l,u,d,f,h=!e[4].signedIn&&!e[0]&&ct(e),p=(e[4].signedIn||e[0])&&pt(e),g=e[3]&&gt(e);return d=new qe({}),{c(){t=x("script"),o=x("link"),a=x("link"),i=C(),s=x("div"),h&&h.c(),r=C(),p&&p.c(),l=C(),g&&g.c(),u=C(),ye(d.$$.fragment),c(t.src,n="https://apis.google.com/js/api.js")||T(t,"src","https://apis.google.com/js/api.js"),T(o,"rel","stylesheet"),T(o,"href","https://unpkg.com/tippy.js@6.3.7/themes/light-border.css"),T(a,"rel","stylesheet"),T(a,"href","https://unpkg.com/tippy.js@6.3.7/dist/tippy.css"),T(s,"class","container")},m(e,n){w(lt.head,t),w(lt.head,o),w(lt.head,a),$(e,i,n),$(e,s,n),h&&h.m(s,null),w(s,r),p&&p.m(s,null),w(s,l),g&&g.m(s,null),$(e,u,n),be(d,e,n),f=!0},p(e,[t]){e[4].signedIn||e[0]?h&&(h.d(1),h=null):h?h.p(e,t):(h=ct(e),h.c(),h.m(s,r)),e[4].signedIn||e[0]?p?(p.p(e,t),17&t&&he(p,1)):(p=pt(e),p.c(),he(p,1),p.m(s,l)):p&&(de(),pe(p,1,1,(()=>{p=null})),fe()),e[3]?g?(g.p(e,t),8&t&&he(g,1)):(g=gt(e),g.c(),he(g,1),g.m(s,null)):g&&(de(),pe(g,1,1,(()=>{g=null})),fe())},i(e){f||(he(p),he(g),he(d.$$.fragment,e),f=!0)},o(e){pe(p),pe(g),pe(d.$$.fragment,e),f=!1},d(e){k(t),k(o),k(a),e&&k(i),e&&k(s),h&&h.d(),p&&p.d(),g&&g.d(),e&&k(u),$e(d,e)}}}function vt(e){function t(e){return e<10?"0"+e:e}return(e=new Date(e.getTime()-1e3*Math.random()*60*60*24)).getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"Z"}function wt(e,t,n){let o=!1,a=!1,i={},s={token:{},loaded:!1,signedIn:!1,reload:!1},r={};async function l(){const e=await gapi.auth2.getAuthInstance().signIn();console.log(e);let t=e.getAuthResponse();n(4,s.signedIn=!0,s),n(4,s.token=t,s),localStorage.setItem("token",JSON.stringify(s.token))}G((()=>{Ae.show("Loading..."),import("https://cdn.skypack.dev/tippy.js").then((({default:e})=>{window.tippy=e,setInterval((()=>{[...document.querySelectorAll("[data-tippy-content]:not([data-tippy-checked])")].forEach((t=>{e(t,{theme:"light-border",content:t.getAttribute("data-tippy-content")}),t.setAttribute("data-tippy-checked","true")}))}),500)}));try{n(1,i=JSON.parse(localStorage.settings)),"object"!=typeof i&&n(1,i={})}catch(e){}n(4,s.token=JSON.parse(localStorage?.token||"{}"),s),"object"!=typeof s.token||!(s.token.access_token&&s.token.expires_at&&s.token.token_type)||s.token.expires_at<Date.now()?(console.log(s.token,"invalid"),n(4,s.token={},s),n(4,s.signedIn=!1,s)):(console.log("Signed in"),n(4,s.signedIn=!0,s)),Object.assign(window,{info:s,settings:i}),n(1,i={publishedAfter:new Date("January 1, 2000"),publishedBefore:new Date,language:"en",videoDuration:"any",safeSearch:"moderate",maxViews:1,...i}),async function(){await async function(e,t=[]){return new Promise((n=>{!async function o(){let a;try{a=e(...t)}catch(e){}a?n(a):await requestAnimationFrame(o)}()}))}((()=>window.gapi)),console.log(window.gapi),console.log("GAPI loaded"),gapi.load("client",{callback:()=>{new Promise((e=>{gapi.client.init({discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/youtube/v3/rest"],clientId:"624071780217-cp736o7egfe97s941dc2kvmv5o7oavbs.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/youtube.readonly"}).then((()=>e()),(e=>{n(4,s.reload=!0,s),console.log(e),Ae.show("Error loading client"+(e.details?": "+e.details.split(":")[0]:""),{timeout:5e3})}))})).then((()=>{n(4,s.loaded=!0,s),Ae.show("Loaded!")}))},onerror:()=>{Ae.show("There was an error")}})}(),setInterval((()=>{localStorage.setItem("settings",JSON.stringify(i))}),500)}));return e.$$.update=()=>{if(7&e.$$.dirty){a&&n(2,r.key="AIzaSyC_5nnMeplNjnAVC5tyS5OT5tDxnt43QFA",r);for(let[e,t]of Object.entries(i))i[e]?n(2,r[e]=t,r):delete r[e];i.publishedAfter&&n(2,r.publishedAfter=vt(new Date(i.publishedAfter)),r),i.publishedBefore&&n(2,r.publishedBefore=vt(new Date(i.publishedBefore)),r),delete r.maxViews,delete r.searchPattern}},[a,i,r,o,s,l,()=>s.reload?location.reload():s.loaded&&l(),()=>n(0,a=!0),()=>n(3,o=!0),function(e){i=e,n(1,i)},()=>(n(3,o=!1),Ae.show("Saved settings"))]}return new class extends Se{constructor(e){super(),xe(this,e,wt,mt,r,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
